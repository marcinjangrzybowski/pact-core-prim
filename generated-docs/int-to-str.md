# int-to-str

## Basic syntax

To utilize the `int-to-str` function, the following syntax should suffice:

```pact
(int-to-str *base*:integer *val*:integer)
```

This function requires two arguments:
- `base`: This is an integer value that indicates the numerical base in which the integer `val` should be represented. The base can range from 2-16, and includes 64 for unpadded base64URL.
- `val`: This is the integer that's to be converted into a string representation.

Here's an example usage of `int-to-str` function:

```pact
(int-to-str 16 65535)
"ffff"
```
This instance represents the integer `65535` as a string in base `16`.

For base64URL conversion, use an example as follows:

```pact
(int-to-str 64 43981)
"q80"
```
This instance represents the number `43981` as an unpadded base64URL string. Note that only positive values are valid for base64URL conversion.

## Arguments

| Argument | Type | Description |
| --- | --- | --- |
| base | integer | Specifies the base for the conversion. Acceptable values range from 2 to 16, or 64 for unpadded base64URL. |
| val | integer | This is the integer value to be converted into a string. Only positive values are allowed for base64URL conversion. |

## Prerequisites

N/A

## Return values

The `int-to-str` function returns a string that represents the integer value converted according to the base specified. This return value can be useful when numeric operations are done and the result needs to be represented as a string for display or further processing. Different bases from 2 to 16 and 64 can be used for the conversion providing flexibility for various use cases. Note that it only allows positive values for base64URL conversion.

## Examples

```pact
(int-to-str 16 65535)
"ffff"
```

Conversion of an integer to a string. In this case, hexadecimal (base 16) is used with the integer `65535`, resulting in `"ffff"`.

```pact
(int-to-str 64 43981)
"q80"
```

Another conversion of an integer to a string, this time with unpadded base64URL (base 64). The integer `43981` is being used, resulting in `"q80"`.

```pact
(map (int-to-str 10) (enumerate 0 19))
```

Creating a list of chain ids. `int-to-str` is used in conjunction with the map function. The `int-to-str` function helps in converting the integers generated by `enumerate` function into their base 10 string representation.

```pact
(+ "n_" (take 40 (int-to-str 16 (str-to-int 64 (hash g)))))
```

String manipulation using `int-to-str` function. In this case, first, a hash of an object `g` is converted from base 64 to an integer using the `str-to-int` function. This integer is then converted to a hexadecimal string of 40 characters using the `int-to-str` function. A prefix "n_" is added to the final string.

## Options

N/A

## Property validation

The `int-to-str` function validates the following properties:

- The *base* argument must be an integer with a value that is between 2 and 16, or be 64 for converting to an unpadded base64URL.

- For base64URL conversion, only positive values are allowed for the *val* argument. 

- Both the arguments, *base* and *val*, are required to be integers. The function will throw an error if any other data type is passed.

- If the *base* argument value is not within the valid range or if the *val* argument is negative in case of base64URL conversion, the function will throw an error.

Note: In the context of property validation, it's essential to remember that property verification is about checking the characteristics and constraints of arguments or values, not about the function's use-case scenarios or output format.

## Gotchas

For the `int-to-str` function, there are several points to be aware of:

1. The function does not handle negative integers for base64URL conversion. Attempting to do so may lead to unexpected behavior or errors. 

2. The BASE for conversion can only be in the range from 2 to 16, or 64 for base64URL conversion. Usage of any other base value will lead to incorrect results or failure.

3. If used with a BASE value of 64, the resultant string is not padded. This could potentially lead to issues in scenarios where padding is assumed or required.

4. The integer VAL to be converted should fit within the range allowed by the BASE value. For example, if a base16 (hexadecimal) conversion is intended, the integer should not exceed `0xFFFF` for a 4-digit hexadecimal string. Larger integers in low BASE values can lead to disproportionately long string results.
  
Remember to always use the function with valid BASE and VAL parameters in accordance with the specified range and restrictions.

